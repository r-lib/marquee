<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Marquee-aware string interpolation — marquee_glue • marquee</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Marquee-aware string interpolation — marquee_glue"><meta property="og:description" content="If you want to create your markdown programmatically you'd probably want to
use some sort of string interpolation such as glue(). However, the custom
span syntax of marquee interferes with the standard interpolation syntax of
glue. This function let's you use both together."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">marquee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/marquee.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/marquee_style.html">Marquee Styling</a>
    </li>
    <li>
      <a href="../articles/marquee_syntax.html">Marquee Syntax</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/thomasp85/marquee/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Marquee-aware string interpolation</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/marquee/blob/HEAD/R/glue.R" class="external-link"><code>R/glue.R</code></a></small>
    <div class="hidden name"><code>marquee_glue.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>If you want to create your markdown programmatically you'd probably want to
use some sort of string interpolation such as <code>glue()</code>. However, the custom
span syntax of marquee interferes with the standard interpolation syntax of
glue. This function let's you use both together.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">marquee_glue</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  .sep <span class="op">=</span> <span class="st">""</span>,</span>
<span>  .envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .open <span class="op">=</span> <span class="st">"{"</span>,</span>
<span>  .close <span class="op">=</span> <span class="st">"}"</span>,</span>
<span>  .na <span class="op">=</span> <span class="st">"NA"</span>,</span>
<span>  .null <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .comment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .literal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .transformer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .trim <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">marquee_glue_data</span><span class="op">(</span></span>
<span>  <span class="va">.x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .sep <span class="op">=</span> <span class="st">""</span>,</span>
<span>  .envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .open <span class="op">=</span> <span class="st">"{"</span>,</span>
<span>  .close <span class="op">=</span> <span class="st">"}"</span>,</span>
<span>  .na <span class="op">=</span> <span class="st">"NA"</span>,</span>
<span>  .null <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .comment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .literal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .transformer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .trim <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p>[<code>expressions</code>]<br> Unnamed arguments are taken to be expression
string(s) to format. Multiple inputs are concatenated together before formatting.
Named arguments are taken to be temporary variables available for substitution.</p></dd>


<dt>.sep</dt>
<dd><p>[<code>character(1)</code>: ‘""’]<br> Separator used to separate elements.</p></dd>


<dt>.envir</dt>
<dd><p>[<code>environment</code>: <code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame()</a></code>]<br> Environment to evaluate each expression in. Expressions are
evaluated from left to right. If <code>.x</code> is an environment, the expressions are
evaluated in that environment and <code>.envir</code> is ignored. If <code>NULL</code> is passed, it is equivalent to <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">emptyenv()</a></code>.</p></dd>


<dt>.open</dt>
<dd><p>[<code>character(1)</code>: ‘\{’]<br> The opening delimiter. Doubling the
full delimiter escapes it.</p></dd>


<dt>.close</dt>
<dd><p>[<code>character(1)</code>: ‘\}’]<br> The closing delimiter. Doubling the
full delimiter escapes it.</p></dd>


<dt>.na</dt>
<dd><p>[<code>character(1)</code>: ‘NA’]<br> Value to replace <code>NA</code> values
with. If <code>NULL</code> missing values are propagated, that is an <code>NA</code> result will
cause <code>NA</code> output. Otherwise the value is replaced by the value of <code>.na</code>.</p></dd>


<dt>.null</dt>
<dd><p>[<code>character(1)</code>: ‘character()’]<br> Value to replace
NULL values with. If <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> whole output is <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>. If
<code>NULL</code> all NULL values are dropped (as in <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code>). Otherwise the
value is replaced by the value of <code>.null</code>.</p></dd>


<dt>.comment</dt>
<dd><p>[<code>character(1)</code>: ‘#’]<br> Value to use as the comment
character.</p></dd>


<dt>.literal</dt>
<dd><p>[<code>boolean(1)</code>: ‘FALSE’]<br> Whether to treat single or
double quotes, backticks, and comments as regular characters (vs. as
syntactic elements), when parsing the expression string. Setting <code>.literal = TRUE</code> probably only makes sense in combination with a custom
<code>.transformer</code>, as is the case with <code>glue_col()</code>. Regard this argument
(especially, its name) as experimental.</p></dd>


<dt>.transformer</dt>
<dd><p>[<code>function]</code><br> A function taking three parameters <code>code</code>, <code>envir</code> and
<code>data</code> used to transform the output of each block before, during, or after
evaluation. For example transformers see <code>vignette("transformers")</code>.</p></dd>


<dt>.trim</dt>
<dd><p>[<code>logical(1)</code>: ‘TRUE’]<br> Whether to trim the input
template with <code><a href="https://glue.tidyverse.org/reference/trim.html" class="external-link">trim()</a></code> or not.</p></dd>


<dt>.x</dt>
<dd><p>[<code>listish</code>]<br> An environment, list, or data frame used to lookup values.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A character vector</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If you choose a different set of delimiters than <code>"{"</code> and <code>"}"</code> for the
interpolation the functions will call the equivalent glue functions directly.
However, if you keep the defaults, the functions will use a custom
transformer that will make sure to keep the marquee custom span notation. You
can both interpolate the content of the span, as well as the span class (see
examples)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># standard use</span></span></span>
<span class="r-in"><span><span class="va">red_text</span> <span class="op">&lt;-</span> <span class="st">"this text will be red"</span></span></span>
<span class="r-in"><span><span class="fu">marquee_glue</span><span class="op">(</span><span class="st">"This will be black and {.red {red_text}}!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This will be black and {.red this text will be red}!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if the span is not valid it will be treated as standard glue interpolation</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">marquee_glue</span><span class="op">(</span><span class="st">"This will be black and {.red}!"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error : Failed to evaluate glue component {.red}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Caused by error:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> object '.red' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can interpolate the tag name as well</span></span></span>
<span class="r-in"><span><span class="va">col</span> <span class="op">&lt;-</span> <span class="st">"green"</span></span></span>
<span class="r-in"><span><span class="fu">marquee_glue</span><span class="op">(</span><span class="st">"This will be black and {.{col} this text will be {col}}!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This will be black and {.green this text will be green}!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tag name interpolation must follow a `.` or a `#` as these identify the</span></span></span>
<span class="r-in"><span><span class="co"># bracket pair as a custom span class</span></span></span>
<span class="r-in"><span><span class="va">col</span> <span class="op">&lt;-</span> <span class="st">".yellow"</span></span></span>
<span class="r-in"><span><span class="co"># This is not what you want probably</span></span></span>
<span class="r-in"><span><span class="fu">marquee_glue</span><span class="op">(</span><span class="st">"This will be black and {{col} this text will be {col}}!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This will be black and {col} this text will be .yellow}!</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tag interpolation should also interpolate the full tag and be followed by</span></span></span>
<span class="r-in"><span><span class="co"># a space in order to be valid</span></span></span>
<span class="r-in"><span><span class="va">part</span> <span class="op">&lt;-</span> <span class="st">"l"</span></span></span>
<span class="r-in"><span><span class="fu">marquee_glue</span><span class="op">(</span><span class="st">"This will be black and {.ye{part}low this text will be {col}}!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This will be black and {.ye{part}low this text will be .yellow}!</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">marquee_glue</span><span class="op">(</span><span class="st">"This will be black and {.{part}avender this text will be {col}}!"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in .transformer(expr, env) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Malformed marquee interpolation block. When interpolating a tag name it</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> must be followed by a space</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thomas Lin Pedersen, Martin Mitáš.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

