<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is the main function of marquee. It takes a vector of markdown strings,
parses them with the provided style, and returns a grob capable of rendering
the parsed text into rich text and (possibly) images. See marquee_parse()
for more information about how markdown is parsed and see details below for
further information on how rendering proceeds."><title>Construct a grob rendering one or more markdown texts — marquee_grob • marquee</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct a grob rendering one or more markdown texts — marquee_grob"><meta property="og:description" content="This is the main function of marquee. It takes a vector of markdown strings,
parses them with the provided style, and returns a grob capable of rendering
the parsed text into rich text and (possibly) images. See marquee_parse()
for more information about how markdown is parsed and see details below for
further information on how rendering proceeds."><meta property="og:image" content="https://marquee.r-lib.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="marquee.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">marquee</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/marquee.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/marquee_style.html">Marquee Styling</a>
    <a class="dropdown-item" href="../articles/marquee_syntax.html">Marquee Syntax</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/marquee/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Construct a grob rendering one or more markdown texts</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/marquee/blob/HEAD/R/grob.R" class="external-link"><code>R/grob.R</code></a></small>
      <div class="d-none name"><code>marquee_grob.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the main function of marquee. It takes a vector of markdown strings,
parses them with the provided style, and returns a grob capable of rendering
the parsed text into rich text and (possibly) images. See <code><a href="marquee_parse.html">marquee_parse()</a></code>
for more information about how markdown is parsed and see details below for
further information on how rendering proceeds.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">marquee_grob</span><span class="op">(</span></span>
<span>  <span class="va">text</span>,</span>
<span>  style <span class="op">=</span> <span class="fu"><a href="classic_style.html">classic_style</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ignore_html <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  x <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  y <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  default.units <span class="op">=</span> <span class="st">"npc"</span>,</span>
<span>  hjust <span class="op">=</span> <span class="st">"left"</span>,</span>
<span>  vjust <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>  angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  vp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>text</dt>
<dd><p>Either a character vector or a <code>marquee_parsed</code> object as created
by <code><a href="marquee_parse.html">marquee_parse()</a></code></p></dd>


<dt>style</dt>
<dd><p>A style set such as <code><a href="classic_style.html">classic_style()</a></code> that defines how the text
should be rendered</p></dd>


<dt>ignore_html</dt>
<dd><p>Should HTML code be removed from the output</p></dd>


<dt>x, y</dt>
<dd><p>The location of the markdown text in the graphics. If numeric it
will be converted to units using <code>default.units</code></p></dd>


<dt>width</dt>
<dd><p>The width of each markdown text. If numeric it will be converted
to units using <code>default.units</code>. <code>NULL</code> is equivalent to the width of the
parent container</p></dd>


<dt>default.units</dt>
<dd><p>A string giving the default units to apply to <code>x</code>, <code>y</code>,
and <code>width</code></p></dd>


<dt>hjust</dt>
<dd><p>The horizontal justification of the markdown with respect to
<code>x</code>. Can either be a numeric or one of <code>"left"</code>, <code>"left-ink"</code>, <code>"center"</code>,
<code>"center-ink"</code>, <code>"right-ink"</code>, or <code>"right"</code></p></dd>


<dt>vjust</dt>
<dd><p>The vertical justification of the markdown with respect to
<code>y</code>. Can either be a numeric or one of <code>"bottom"</code>, <code>"bottom-ink"</code>,
<code>"last-line"</code>, <code>"center"</code>, <code>"center-ink"</code>, <code>"first-line"</code>, <code>"top-ink"</code>,
<code>"top"</code></p></dd>


<dt>angle</dt>
<dd><p>The angle of rotation (in degrees) around <code>x</code> and <code>y</code></p></dd>


<dt>vp</dt>
<dd><p>An optional viewport to assign to the grob</p></dd>


<dt>name</dt>
<dd><p>The name for the grob. If <code>NULL</code> a unique name will be generated</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A grob of class <code>marquee</code></p>


    </div>
    <div class="section level2">
    <h2 id="rendering-style">Rendering style<a class="anchor" aria-label="anchor" href="#rendering-style"></a></h2>
    <p>The rendering more or less adheres to the styling provided by
<code><a href="marquee_parse.html">marquee_parse()</a></code>, but has some intricacies as detailed below:</p>
<p><strong>Tight lists</strong></p>
<p>If a list is tight, the bottom margin of each <code>li</code> tag will be set so the
spacing matches the lineheight. Further, the top margin will be set to 0.</p>
<p><strong>Block images</strong></p>
<p>In markdown, image tags are span elements so they can be placed inline.
However, if an image tag is the only thing that is contained inside a p tag
marquee determines that it should be considered a block element. In that
case, the parent p element inherits the styling from the image element so
that the image can e.g. adhere to <code>align</code> properties, or provide their own
padding.</p>
<p><strong>Horizontal rulers</strong></p>
<p>These elements are rendered as an empty block. The standard style sets a
bottom border size and no size for the other sides.</p>
<p><strong>Margin collapsing</strong></p>
<p>Margin calculations follows the margin collapsing rules of HTML. Read more
about these at <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_box_model/Mastering_margin_collapsing" class="external-link">mdn</a></p>
<p><strong>Underline and strikethrough</strong></p>
<p>Underlines are placed 0.1em below the baseline of the text. Strikethrough are
placed 0.3em above the baseline. The width of the line is set to 0.075em. It
inherits the color of the text. No further styling is possible.</p>
<p><strong>Spans with background</strong></p>
<p>Consecutive spans with the same background and border settings are merged
into a single rectangle. The padding of the span defines the size of the
background but will not modify the placement of glyph (i.e. having a left
padding will not move the first glyph further away from it's left neighbor).</p>
<p><strong>Bullet position</strong></p>
<p>Bullets are placed, right-aligned, 0.25em to the left of the first line in
the li element.</p>
<p><strong>Border with border radius</strong></p>
<p>If borders are not the same on all sides they are drawn one by one. In this
case the border radius is ignored.</p>
    </div>
    <div class="section level2">
    <h2 id="image-rendering">Image rendering<a class="anchor" aria-label="anchor" href="#image-rendering"></a></h2>
    <p>The image tag can be used to place images. There are support for both png and
jpeg images. If the path instead names a grob, ggplot, or patchwork object
then this is rendered instead. If the file cannot be read, if it doesn't
exist, or if the path names an object that is not a grob, ggplot or patchwork,
a placeholder is rendered in it's place (black square with red cross).</p>
<p><strong>Image sizing</strong></p>
<p>There is no standard in markdown for specifying the size of images. By
default, block-level images fill the width of it's container and maintain
it's aspect ratio. Inline images have a default width of 0.65em and a height
matching the aspect ration.</p>
<p>However, if you wish to control sizing, you can instead provide the image as
a grob with a viewport with fixed dimensions, in which case this will be used
as long as the width doesn't exceed the width of the container (in which case
it will get downsized). If a rastergrob is provided without absolute sizing,
the aspect ratio will match the raster, otherwise the aspect ratio will be
taken from the styling of the element (defaults to 1.65)</p>
    </div>
    <div class="section level2">
    <h2 id="table-rendering">Table rendering<a class="anchor" aria-label="anchor" href="#table-rendering"></a></h2>
    <p>While marquee does not support the extended table syntax for markdown it does
allow you to include tables in the output. It does so by supporting gt
objects as valid paths in image tags in the same way as ggplots etc. This
meeans that you can style your tables any way you wish and with the full
power of gt, which is much more flexible than the markdown table syntax.</p>
    </div>
    <div class="section level2">
    <h2 id="textbox-justification">Textbox justification<a class="anchor" aria-label="anchor" href="#textbox-justification"></a></h2>
    <p>The justification options exceeds the classic ones provided by grid. While
numeric values are available as always, the number of possible text values
are larger. Horizontal justification add <code>"left-ink"</code>, <code>"center-ink"</code>, and
<code>"right-ink"</code> which uses the left-most and right-most positioned glyph (or
halfway between them) as anchors. Vertical justification has the equivalent
<code>"bottom-ink"</code>, <code>"center-ink"</code>, and <code>"top-ink"</code> anchors, but also
<code>"first-line"</code> and <code>"last-line"</code> which sets the anchor at the baseline of the
first or last line respectively.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>, Martin Mitáš, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

  </div></footer></body></html>

